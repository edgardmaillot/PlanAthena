<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__entity_8cs_source" xml:lang="en-US">
<title>Entity.cs</title>
<indexterm><primary>Domain/Entity.cs</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__entity_8cs_source_1l00001"/>00001 <emphasis role="comment">//&#32;PlanAthena.Core.Domain.Entity.cs</emphasis>
<anchor xml:id="__entity_8cs_source_1l00002"/>00002 <emphasis role="keyword">using&#32;</emphasis>System;
<anchor xml:id="__entity_8cs_source_1l00003"/>00003 
<anchor xml:id="__entity_8cs_source_1l00004"/>00004 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_plan_athena_1_1_core_1_1_domain">PlanAthena.Core.Domain</link>
<anchor xml:id="__entity_8cs_source_1l00005"/>00005 {
<anchor xml:id="__entity_8cs_source_1l00011"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g">00011</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">abstract</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity</link>&lt;TId&gt;&#32;:&#32;IEquatable&lt;Entity&lt;TId&gt;&gt;
<anchor xml:id="__entity_8cs_source_1l00012"/>00012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;where&#32;TId&#32;:&#32;notnull&#32;<emphasis role="comment">//&#32;L&apos;ID&#32;ne&#32;peut&#32;pas&#32;être&#32;null</emphasis>
<anchor xml:id="__entity_8cs_source_1l00013"/>00013 &#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00014"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">00014</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;TId&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">Id</link>&#32;{&#32;<emphasis role="keyword">get</emphasis>;&#32;<emphasis role="keyword">protected</emphasis>&#32;<emphasis role="keyword">set</emphasis>;&#32;}&#32;<emphasis role="comment">//&#32;protected&#32;set&#32;pour&#32;permettre&#32;l&apos;initialisation&#32;par&#32;les&#32;classes&#32;dérivées</emphasis>
<anchor xml:id="__entity_8cs_source_1l00015"/>00015 
<anchor xml:id="__entity_8cs_source_1l00016"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">00016</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity</link>(TId&#32;<emphasis role="keywordtype">id</emphasis>)
<anchor xml:id="__entity_8cs_source_1l00017"/>00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00018"/>00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;if&#32;(id&#32;==&#32;null&#32;||&#32;id.Equals(default(TId)))&#32;//&#32;Pour&#32;les&#32;structs,&#32;default(TId)&#32;peut&#32;être&#32;valide&#32;(ex:&#32;Guid.Empty)</emphasis>
<anchor xml:id="__entity_8cs_source_1l00019"/>00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;{</emphasis>
<anchor xml:id="__entity_8cs_source_1l00020"/>00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;throw&#32;new&#32;ArgumentException(&quot;L&apos;identifiant&#32;de&#32;l&apos;entité&#32;ne&#32;peut&#32;pas&#32;être&#32;la&#32;valeur&#32;par&#32;défaut.&quot;,&#32;nameof(id));</emphasis>
<anchor xml:id="__entity_8cs_source_1l00021"/>00021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;}</emphasis>
<anchor xml:id="__entity_8cs_source_1l00022"/>00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Edgard:&#32;La&#32;validation&#32;de&#32;l&apos;ID&#32;lui-même&#32;(ex:&#32;non&#32;vide&#32;pour&#32;un&#32;string)&#32;est&#32;dans&#32;le&#32;VO&#32;de&#32;l&apos;ID.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00023"/>00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Ici,&#32;on&#32;s&apos;assure&#32;juste&#32;qu&apos;on&#32;a&#32;un&#32;ID.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00024"/>00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">Id</link>&#32;=&#32;id;
<anchor xml:id="__entity_8cs_source_1l00025"/>00025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00026"/>00026 
<anchor xml:id="__entity_8cs_source_1l00027"/>00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Constructeur&#32;sans&#32;paramètre&#32;pour&#32;certains&#32;ORM&#32;ou&#32;sérialiseurs,&#32;mais&#32;protégé&#32;pour&#32;forcer&#32;l&apos;usage&#32;via&#32;constructeur&#32;avec&#32;ID.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00028"/>00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Pour&#32;DDD,&#32;on&#32;préfère&#32;souvent&#32;ne&#32;pas&#32;avoir&#32;de&#32;constructeur&#32;sans&#32;paramètre&#32;public.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00029"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a1b1e54a6b442f08688e95331dfd6d277">00029</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a1b1e54a6b442f08688e95331dfd6d277">Entity</link>()&#32;{&#32;}
<anchor xml:id="__entity_8cs_source_1l00030"/>00030 
<anchor xml:id="__entity_8cs_source_1l00031"/>00031 
<anchor xml:id="__entity_8cs_source_1l00032"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab22cd62f66d6349a4b6821db8754dfaf">00032</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab22cd62f66d6349a4b6821db8754dfaf">Equals</link>(<emphasis role="keywordtype">object</emphasis>?&#32;obj)
<anchor xml:id="__entity_8cs_source_1l00033"/>00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00034"/>00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;obj&#32;is&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>&#32;other&#32;&amp;&amp;&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab22cd62f66d6349a4b6821db8754dfaf">Equals</link>(other);
<anchor xml:id="__entity_8cs_source_1l00035"/>00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00036"/>00036 
<anchor xml:id="__entity_8cs_source_1l00037"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a2e3f012f7d67dc2c6865170de7c36377">00037</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a2e3f012f7d67dc2c6865170de7c36377">Equals</link>(<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>?&#32;other)
<anchor xml:id="__entity_8cs_source_1l00038"/>00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00039"/>00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(other&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__entity_8cs_source_1l00040"/>00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__entity_8cs_source_1l00041"/>00041 
<anchor xml:id="__entity_8cs_source_1l00042"/>00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(ReferenceEquals(<emphasis role="keyword">this</emphasis>,&#32;other))
<anchor xml:id="__entity_8cs_source_1l00043"/>00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__entity_8cs_source_1l00044"/>00044 
<anchor xml:id="__entity_8cs_source_1l00045"/>00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Si&#32;l&apos;un&#32;des&#32;IDs&#32;est&#32;la&#32;valeur&#32;par&#32;défaut&#32;(pour&#32;les&#32;structs&#32;comme&#32;Guid.Empty&#32;par&#32;ex,</emphasis>
<anchor xml:id="__entity_8cs_source_1l00046"/>00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ou&#32;si&#32;on&#32;utilisait&#32;0&#32;pour&#32;des&#32;int&#32;IDs),&#32;ils&#32;ne&#32;sont&#32;pas&#32;persistés&#32;et&#32;ne&#32;peuvent&#32;pas&#32;être&#32;égaux.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00047"/>00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Pour&#32;nos&#32;VOs&#32;d&apos;ID&#32;basés&#32;sur&#32;string,&#32;cette&#32;vérification&#32;de&#32;default&#32;est&#32;moins&#32;pertinente</emphasis>
<anchor xml:id="__entity_8cs_source_1l00048"/>00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;car&#32;la&#32;validation&#32;est&#32;dans&#32;le&#32;VO&#32;lui-même.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00049"/>00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;if&#32;(Id.Equals(default(TId))&#32;||&#32;other.Id.Equals(default(TId)))</emphasis>
<anchor xml:id="__entity_8cs_source_1l00050"/>00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;return&#32;false;</emphasis>
<anchor xml:id="__entity_8cs_source_1l00051"/>00051 
<anchor xml:id="__entity_8cs_source_1l00052"/>00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">Id</link>.Equals(other.<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">Id</link>);
<anchor xml:id="__entity_8cs_source_1l00053"/>00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00054"/>00054 
<anchor xml:id="__entity_8cs_source_1l00055"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a14ddee7a3905c3b7c818d600bec1e2f4">00055</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;operator&#32;==(<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>&#32;left,&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>&#32;right)
<anchor xml:id="__entity_8cs_source_1l00056"/>00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00057"/>00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(left&#32;is&#32;<emphasis role="keyword">null</emphasis>&#32;&amp;&amp;&#32;right&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__entity_8cs_source_1l00058"/>00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__entity_8cs_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(left&#32;is&#32;<emphasis role="keyword">null</emphasis>&#32;||&#32;right&#32;is&#32;<emphasis role="keyword">null</emphasis>)
<anchor xml:id="__entity_8cs_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__entity_8cs_source_1l00061"/>00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;left.<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab22cd62f66d6349a4b6821db8754dfaf">Equals</link>(right);
<anchor xml:id="__entity_8cs_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00063"/>00063 
<anchor xml:id="__entity_8cs_source_1l00064"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a2d11ed5b8b82cbee52024de335eb6741">00064</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;operator&#32;!=(<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>&#32;left,&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a4ac8a7efcc665ce95e94f7b058b86014">Entity&lt;TId&gt;</link>&#32;right)
<anchor xml:id="__entity_8cs_source_1l00065"/>00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;!(left&#32;==&#32;right);
<anchor xml:id="__entity_8cs_source_1l00067"/>00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00068"/>00068 
<anchor xml:id="__entity_8cs_source_1l00069"/><link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab742cb22b4a37ce4ee645507a5ed380a">00069</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">override</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1ab742cb22b4a37ce4ee645507a5ed380a">GetHashCode</link>()
<anchor xml:id="__entity_8cs_source_1l00070"/>00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
<anchor xml:id="__entity_8cs_source_1l00071"/>00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;L&apos;ID&#32;est&#32;la&#32;seule&#32;chose&#32;qui&#32;définit&#32;l&apos;identité&#32;de&#32;l&apos;entité.</emphasis>
<anchor xml:id="__entity_8cs_source_1l00072"/>00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_class_plan_athena_1_1_core_1_1_domain_1_1_entity-1-g_1a898f9cc5b41db570a94009b2e919fad9">Id</link>.GetHashCode();
<anchor xml:id="__entity_8cs_source_1l00073"/>00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00074"/>00074 &#32;&#32;&#32;&#32;}
<anchor xml:id="__entity_8cs_source_1l00075"/>00075 }
</programlisting></section>
